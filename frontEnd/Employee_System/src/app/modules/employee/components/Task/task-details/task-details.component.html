<br>

<div *ngIf="contentForm">

    


    <div class="container" style="margin-top: 50px; margin-left:70px">
        <div class="row">
    
             <div class="card col-sm-2" style="width: 20rem;" >
                 <div class="card-body ">
                     <h6 class="card-title" >
                       <b style="color: brown; font-size: 15px;">Title : </b>
                       {{taskDetails.title}}
                     </h6>
                     <span class="card-subtitle mb-2 text-muted " >
                       <b style="color: brown;font-size: 15px;">Description : </b>
                       {{taskDetails.description}}
                     </span>
                     <hr>
                     <div style="font-size: 13px;">
                         <div class="task-info">
                             <span class="info-row" style="color: brown;"><b>Date : </b> </span>
                             <span class="info-value">{{taskDetails.date| date:'short'}}</span>
                         </div>
                     
                         <div class="task-info">
                             <span class="info-row" style="color: brown;"><b>Status : </b> </span>
                             <span class="info-value">{{taskDetails.status}}</span>
                         </div>
    
                         <div class="task-info">
                           <span class="info-row"style="color: brown;"><b>Priority : </b> </span>
                           <span class="info-value">{{taskDetails.priority}}</span>
                       </div>
                 
                         <div class="task-info">
                             <span class="info-row"style="color: brown;"><b>Employee Name : </b> </span>
                             <span class="info-value">{{taskDetails.empName}}</span>
                         </div>
                     </div>
                 
                     
                                       
                 </div>
             </div>
         </div>
    
    </div>

<!-- pubish your comment-->
<br><br>

    <div style="margin-left: 90px;">
        <h5 >Publish your comment :</h5>
        <hr style="width: 14rem;">
    </div>
    
    
    <mat-card class="example-card" appearance="outlined" style="width: 15rem; margin-left: 70px;">
        <mat-card-header>
          <div mat-card-avatar  class="coverTemplate" ></div>
          <mat-card-title style="font-size: 15px;">{{taskDetails.empName}}</mat-card-title>
          <mat-card-subtitle style="font-size: 15px;">{{getUserRole()}}</mat-card-subtitle>
        </mat-card-header>
        <mat-card-content>
            <div style="width: 20rem;">
                <form  nz-form [formGroup]="contentForm" >
                    <label><small>Comment :</small></label><br>
                    <textarea nz-input style="width: 13rem;" formControlName="content" >
                       Write Your Comment 
                    </textarea><br>
                    <button  type="submit" style="font-size: 10px;" class="btn btn-sm btn-success" (click)="publish()" [disabled]="contentForm.invalid" >Publish</button>
    
               </form>
            </div>
        </mat-card-content>
    </mat-card>


<!-- Display All comments of this task-->
<div style="margin-left: 90px;">
    <h4 >Comments :</h4>
    <hr style="width: 8rem;">
</div>

<mat-card class="example-card "  appearance="outlined" style="width: 15rem;margin-left: 70px;" *ngFor="let comment of comments">
    <mat-card-header>
      <div mat-card-avatar class="example-header-image"></div>
      <mat-card-title>{{comment.empName}}</mat-card-title>
      <mat-card-subtitle>{{comment.createdAt | date :"short"}}</mat-card-subtitle>
      <mat-card-subtitle><small>{{comment.empRole}}</small></mat-card-subtitle>
    </mat-card-header>
    <mat-card-content>
        {{comment.content}}
    </mat-card-content>
</mat-card>





<!--
<div class="container">
        <div class="row">
            <div class="card ">
    
                <h4>Publish your comment</h4><br>
                <div>
                    <form [formGroup]="contentForm">
                        <label>Comment :</label><br>
                        <textarea formControlName="content">
                           Write Your Comment 
                        </textarea><br>
                        
                        <button (submit)="publish()" [disabled]="contentForm.invalid">Send</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
-->

<!--
 <div>
        <h4>Comments :</h4>
            <div   class="card col-sm-2" style="width: 25rem;" *ngFor="let comment of comments">

                <div>
                    <p style="font-size: medium;">
                        <img  src="assets/img_avatar.png" alt="Card image cap" class="avatar">
                          {{comment.empName}} ...
                          {{comment.createdAt | date:'short'}}
                     </p>
                </div>
                
                <div>
                    <p> {{comment.content}}</p>
                </div>
            </div>
            
    </div>
-->
    


